import{n as B,d as O,L as z,A as E,O as I,z as $,a as F,$ as n,r as R,o,c as u,w as e,f as s,h as t,b as N,s as w,F as S,g as r,t as i,Q as h,B as U,K as H,N as K}from"./index-DVxvz-Q9.js";import{_ as P}from"./Space-CiOp0hQH.js";import{_ as Q,a as j}from"./DescriptionsItem-B0ghk9fY.js";function q(){const d=B();function m(l){return d.isLogin?typeof l=="string"?d.userInfo.buttons.includes(l):l.some(c=>d.userInfo.buttons.includes(c)):!1}return{hasAuth:m}}const Y=O({name:"function_toggle-auth",__name:"index",setup(d){const m=z(),l=E(),c=B(),C=I(),{hasAuth:f}=q(),{loading:k,startLoading:L,endLoading:v}=$(),D=F(()=>[{key:"super",label:n("page.login.pwdLogin.superAdmin"),userName:"Super",password:"123456"},{key:"admin",label:n("page.login.pwdLogin.admin"),userName:"Admin",password:"123456"},{key:"user",label:n("page.login.pwdLogin.user"),userName:"User",password:"123456"}]),b=R("super");async function T(p){b.value=p.key,L(),await c.login(p.userName,p.password,!1),C.initTabStore(m),v(),l.reloadPage()}return(p,G)=>{const V=K,_=P,A=Q,g=U,x=j,y=H;return o(),u(_,{vertical:"",size:16},{default:e(()=>[s(y,{title:t(n)("route.function_toggle-auth"),bordered:!1,size:"small",segmented:"",class:"card-wrapper"},{default:e(()=>[s(x,{bordered:"",column:1},{default:e(()=>[s(A,{label:t(n)("page.manage.user.userRole")},{default:e(()=>[s(_,null,{default:e(()=>[(o(!0),N(S,null,w(t(c).userInfo.roles,a=>(o(),u(V,{key:a},{default:e(()=>[r(i(a),1)]),_:2},1024))),128))]),_:1})]),_:1},8,["label"]),s(A,{"ions-item":"",label:t(n)("page.function.toggleAuth.toggleAccount")},{default:e(()=>[s(_,null,{default:e(()=>[(o(!0),N(S,null,w(D.value,a=>(o(),u(g,{key:a.key,loading:t(k)&&b.value===a.key,disabled:t(k)&&b.value!==a.key,onClick:J=>T(a)},{default:e(()=>[r(i(a.label),1)]),_:2},1032,["loading","disabled","onClick"]))),128))]),_:1})]),_:1},8,["label"])]),_:1})]),_:1},8,["title"]),s(y,{title:t(n)("page.function.toggleAuth.authHook"),bordered:!1,size:"small",segmented:"",class:"card-wrapper"},{default:e(()=>[s(_,null,{default:e(()=>[t(f)("B_CODE1")?(o(),u(g,{key:0},{default:e(()=>[r(i(t(n)("page.function.toggleAuth.superAdminVisible")),1)]),_:1})):h("",!0),t(f)("B_CODE2")?(o(),u(g,{key:1},{default:e(()=>[r(i(t(n)("page.function.toggleAuth.adminVisible")),1)]),_:1})):h("",!0),t(f)("B_CODE3")?(o(),u(g,{key:2},{default:e(()=>[r(i(t(n)("page.function.toggleAuth.adminOrUserVisible")),1)]),_:1})):h("",!0)]),_:1})]),_:1},8,["title"])]),_:1})}}});export{Y as default};
